/*! LocationTabView */
(function(){AMA.namespace("view");var a=AMA.view.LocationTab=AMA.view.BaseView.extend();a.TEMPLATE_ID="location_tab_template";a.TEMPLATE_SRC="location.tpl";a.TOOLBAR={DEFAULT:["endpoint","locate","alarm","lock","wipe"],IPHONE:["endpoint","locate","securePhone"]};AMA.augment(a.prototype,{events:{"click #location_setting":"editLocationSettings","click #tip_link":"showTips"},render:function(){a.__super__.render.apply(this);this.locationHistory=new AMA.view.LocationHistoryListView({el:"#location_history",parent:this,data:AMA.models.locations});this.locationMap=new AMA.view.LocationMapView({el:"#map_container",parent:this,dataClass:AMA.models.locations.constructor});this.locationSummary=new AMA.view.LocationsSettingsSummaryView({el:"#locations_settings_summary_placeholder",data:AMA.models.locatesettings,parent:this});this.TipsToRecover=new AMA.view.TipsToRecover({el:"#tipstorecover",parent:this});if(!AMA.config.enableMrTimeTracking){AMA.debug("Reporting: Start MR time spent timer as user is on Location Tab");AMA.config.enableMrTimeTracking=true;AMA.ReportingManager.reportPortalTimeSpent("MR","Start")}},_setupEvents:function(){a.__super__._setupEvents.apply(this,arguments);this.$el.on("click","#toggleMapLandscape",function(){$("html, body").animate({scrollTop:$(document).height()-$(window).height()})})},showTips:function(){this.TipsToRecover.show()},editLocationSettings:function(){AMA.page.openSettings("location")}})})();