/*! SettingsDialogView */
(function(){AMA.namespace("view");var a=AMA.view.SettingsDialog=AMA.view.BaseView.extend();a.TEMPLATE_ID="";a.TEMPLATE_SRC="";AMA.augment(a.prototype,{initialize:function(){a.__super__.initialize.apply(this,arguments);this.prevHash=""},render:function(){var b=0;this.$el.find(".settings_nav_button").hide();if(this.options.settingsIntro){this.$el.find("#settings_submit").hide();this.settingsIntro=new AMA.view.SettingsIntroView({el:"#settings_intro_tab",parent:this})}else{if(this.options.profileSettings){this.$el.find(".settings_nav_button_profile").parent().show();b++;this.profileSettings=new AMA.view.ProfileSettingsView({el:"#profile_settings_tab",data:AMA.models.dashboardData,parent:this})}if(this.options.backupSettings){this.$el.find(".settings_nav_button_backup").parent().show();b++;this.backupSettings=new AMA.view.BackupSettingsView({el:"#backup_settings_tab",data:AMA.models.syncsettings,parent:this})}if(this.options.locationSettings){this.$el.find(".settings_nav_button_location").parent().show();b++;this.locationSettings=new AMA.view.LocationSettingsView({el:"#location_settings_tab",data:AMA.models.locatesettings,parent:this})}if(this.options.securitySettings){this.$el.find(".settings_nav_button_security").parent().show();b++;this.securitySettings=new AMA.view.SecuritySettingsView({el:"#security_settings_tab",data:AMA.models.scansettings,parent:this})}}if(b==1){this.$el.find(".settings_nav").hide()}},hide:function(){a.__super__.hide.apply(this,arguments);$("#account_settings_link").toggleClass("active");AMA.page.content.$el.toggleClass("hidden");this.hideElements();this.updateValues()},show:function(){a.__super__.show.apply(this,arguments)},updateValues:function(){if(this.options.profileSettings){AMA.models.dashboardData.invalidate()}if(this.options.backupSettings){AMA.models.syncsettings.invalidate()}if(this.options.locationSettings){AMA.models.locatesettings.invalidate()}if(this.options.securitySettings){AMA.models.scansettings.invalidate()}},_setupEvents:function(){},hideElements:function(){this.$el.find(".settings .connecting").hide();this.$el.find(".settings .after_save_message").html("");this.$el.find(".settings_intro .intro_after_save_message").html("")},events:{"click li>.settings_nav_button_location":"openLocationsTab","click li>.settings_nav_button_backup":"openBackupTab","click li>.settings_nav_button_profile":"openAccountInfoTab","click li>.settings_nav_button_security":"openSecurityTab","click .rs_cancel":"hide"},openLocationsTab:function(){AMA.page.openSettings("location")},openBackupTab:function(){AMA.page.openSettings("backup")},openAccountInfoTab:function(){AMA.page.openSettings("account_info")},openSecurityTab:function(){AMA.page.openSettings("security")}})})();