/*! Modal */
(function(){AMA.namespace("view");var a=AMA.view.Modal=AMA.view.BaseView.extend();a.TEMPLATE_ID="dialog_template";a.TEMPLATE_SRC="";_.extend(a.prototype,{initialize:function(){a.__super__.initialize.apply(this,arguments);AMA.assert(this.options&&this.options.el,"Modal requires options.el parameter");this.hidden=true;this._config={content:this.options.content||false,showOk:this.options.showOk||false,showCancel:this.options.showCancel||false,showTitle:this.options.showTitle||true,showClose:this.options.showClose||true,showFooter:this.options.showFooter||true,okCallback:this.options.okCallback||null,cancelCallback:this.options.cancelCallback||null,okText:this.options.okText||null}},show:function(){var c=this.$el.find(".okBtn"),b=this.$el.find(".modal-body");if(this._config.showTitle){this.$el.find(".modal-title").html(this.$el.attr("title"));$(".modal-header").show();(this._config.showClose)?this.$el.find(".close").show():this.$el.find(".close").hide()}else{$(".modal-header").hide()}(this._config.showFooter)?this.$el.find(".modal-footer").show():this.$el.find(".modal-footer").hide();if(this._config.showOk){this._config.okCallback=this._config.okCallback||function(){};c.show();c.unbind("click");c.on("click",_.bind(function(){this.hide();this._config.okCallback()},this));if(this._config.okText!=null){c.html(this._config.okText)}}else{c.hide()}var d=this.$el.find(".button_cancel");if(this._config.showCancel){this._config.cancelCallback=this._config.cancelCallback||function(){};d.show();d.unbind("click");d.on("click",_.bind(function(){this.hide();this._config.cancelCallback()},this))}else{d.hide()}if(this._config.content){var b=this.$el.find(".modal-body");b.html(this._config.content)}this.$el.modal("show")},hide:function(){this.$el.modal("hide")},setContent:function(b){this._config.content=b}})})();