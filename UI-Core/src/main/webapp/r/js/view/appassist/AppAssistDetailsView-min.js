/*! AppAssistDetailsview */
(function(){AMA.namespace("view");var a=AMA.view.AppAssistDetailsView=AMA.view.BaseView.extend();a.TEMPLATE_ID="privacy_details_template";a.TEMPLATE_SRC="";AMA.augment(a.prototype,{initialize:function(){a.__super__.initialize.apply(this,arguments);var b=this;this.dataDetails=null;if(this.options.listView){this.options.listView.on(AMA.view.ListView.EVENT.ITEM_SELECTED,function(c){if(b.data){b.data.isFetching=true}b.$el.addClass("loading_big").html("");b.setData(c);b.dataDetails=c.get("id");b.show()});this.options.listView.on(AMA.view.ListView.EVENT.SELECTION_CLEARED,function(){b.hide()})}else{AMA.warning("This instance of ContactDetailsView is not linked to a contacts list. Data switching will not apply.")}},_processData:function(d){var b=$(this.parent.$el);var c={appUrl:"",batteryOrMemoryUsageRating:"",id:"",locationAccessRating:"",messageAccessRating:"",name:"",personalInfoAccessRating:"",vulnerabilityRating:"",vulnerabilityRatingScore:0};d.summary="";d.summary+=(d.personalInfoAccessRating!=null)?b.find(".personalInfoAccessRating").clone().html('<span class="icon webbycons-addressbook"></span> '+d.personalInfoAccessRating)[0].outerHTML:"";d.summary+=(d.locationAccessRating!=null)?b.find(".locationAccessRating").clone().html('<span class="icon webbycons-locate"></span> '+d.locationAccessRating)[0].outerHTML:"";d.summary+=(d.messageAccessRating!=null)?b.find(".messageAccessRating").clone().html('<span class="icon webbycons-mail"></span> '+d.messageAccessRating)[0].outerHTML:"";d.summary+=(d.batteryOrMemoryUsageRating!=null)?b.find(".batteryOrMemoryUsageRating").clone().html('<span class="icon webbycons-battery"></span> '+d.batteryOrMemoryUsageRating)[0].outerHTML:"";d.summary+=(d.summary==="")?b.find(".emptyPrivacyDetails")[0].outerHTML:"";d.hasItem="";d.cleanId="";if(!d.id){d.hasItem="hidden";d.cleanId=d.id.split("/").join("");d.cleanId=d.cleanId.split("+").join("");_.extend(d,c)}return d},_beforeRender:function(){this.parent.appAssistList.$el.find(".details-sm").addClass("hidden")},render:function(){a.__super__.render.apply(this,arguments);if(!this.data){return}if(!this.data.toJSON().length){return}var c=this.data.toJSON()[0].id,b=c.split("/").join("");b=b.split("+").join("");$("#set_details"+b).html(_.template(this.template,this._processData(this.data.toJSON()[0]))).removeClass("hidden")},_afterRender:function(){this.$el.removeClass("loading_big")}})})();